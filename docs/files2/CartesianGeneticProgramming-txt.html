<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Cartesian Genetic Programming - CGP-Library</title><link rel="stylesheet" type="text/css" href="../styles/main.css"><script language=JavaScript src="../javascript/main.js"></script><script language=JavaScript src="../javascript/prettify.js"></script><script language=JavaScript src="../javascript/searchdata.js"></script></head><body class="ContentPage" onLoad="NDOnLoad();prettyPrint();"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.51 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CSection"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="Cartesian_Genetic_Programming"></a>Cartesian Genetic Programming</h1><div class=CBody><p>Cartesian Genetic Programming (CGP) is a form of Genetic Programming (GP) which is itself an Evolutionary Algorithm (EA).&nbsp; CGP was invented my Julian Miller and Peter Thomson in 1999 and it still under active development and academic research.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#Cartesian_Genetic_Programming" >Cartesian Genetic Programming</a></td><td class=SDescription>Cartesian Genetic Programming (CGP) is a form of Genetic Programming (GP) which is itself an Evolutionary Algorithm (EA). </td></tr><tr class="SSection"><td class=SEntry><a href="#Evolutionary_Algorithms" >Evolutionary Algorithms</a></td><td class=SDescription>Evolutionary Algorithms are a superset of CGP. </td></tr><tr class="SSection"><td class=SEntry><a href="#Cartesian_Genetic_Programming" >Cartesian Genetic Programming</a></td><td class=SDescription>Now Evolutionary Algorithms have been introduced CGP can be described.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Evolutionary_Algorithms"></a>Evolutionary Algorithms</h2><div class=CBody><p>Evolutionary Algorithms are a superset of CGP.&nbsp; In order to explain CGP first Evolutionary Algorithms are introduced.</p><p>Evolutionary Algorithms are a set of Artificial Intelligence / Machine Learning search heuristics based on Darwinian evolution.&nbsp; The idea is to describe a &lsquo;population&rsquo; of possible solutions to a given task in software.&nbsp; Here each solution is called a &lsquo;chromosome&rsquo; or &lsquo;genotype&rsquo; taking the terminology form biology.&nbsp; Each of these chromosomes (solutions) is then assessed and given a &lsquo;fitness&rsquo; score indicating how well it performs on a given task.&nbsp; The fittest of these chromosome are then kept and the weakest removed mimicking survival of the fittest or natural selection.&nbsp; The remaining chromosomes are then treated as &lsquo;parents&rsquo; and used to create new &lsquo;child&rsquo; chromosomes.&nbsp; This process can involve sexual or asexual reproduction i.e. use one parent or two.&nbsp; These new &lsquo;child&rsquo; chromosomes (with/without their parents) form the population of the next &lsquo;generation&rsquo;.&nbsp; This process is repeated until a &lsquo;termination condition&rsquo; is reached.&nbsp; Termination conditions often include finding a suitable solution and a time restraint.</p><p>The process is shown below in pseudo code</p><blockquote><pre>create initial population of chromosomes

while(solution not found)

  calculate chromosome fitnesses
  Select parent chromosomes
  create next generation chromosomes

end</pre></blockquote><p>Evolutionary Algorithms therefore involve several stages which are now described further.</p><ul><li>creating initial population</li><li>calculating fitnesses</li><li>selection</li><li>reproduction</li></ul><h4 class=CHeading>Creating Initial Population</h4><p>The original population typically takes one of two forms.&nbsp; Either it is populated with randomly generated chromosomes or it is seeded with specific chromosomes.&nbsp; These specific chromosomes may include partial solutions which need to be completed or known solutions to be refined.</p><h4 class=CHeading>Calculating Fitnesses</h4><p>The function which assigns a fitness to each chromosome is commonly called the &lsquo;fitness function&rsquo;.&nbsp; How the fitness function operates is dependant upon the problem being solved and the chromosome encoding, it must however assign a fitness value to each chromosome.&nbsp; As this fitness value is only used to choose between chromosomes it is not necessary that the perfect fitness be known; only that one chromosome is fitter than another.</p><h4 class=CHeading>Selection</h4><p>The method used to select the members of the population to survive and/or breed is referred to as the &lsquo;selection scheme&rsquo;.&nbsp; Selections schemes can be very simple, just select the fittest chromosomes, or more complex, select chromosomes which represent the most novel solutions.</p><h4 class=CHeading>Reproduction</h4><p>There are two main ways in which new child chromosomes can be created from their parents.&nbsp; The first mimics asexual reproduction where the child is simply a mutated copy of the parent chromosome.&nbsp; The second mimics sexual reproduction where the child contains genetic material from both parents with or without mutation.&nbsp; This later method is refereed to as &lsquo;recombination&rsquo; or &lsquo;crossover&rsquo;.&nbsp; How mutation and recombination are implemented again depends on the encoding of the chromosomes and the type of mutation and recombination used.</p></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Cartesian_Genetic_Programming"></a>Cartesian Genetic Programming</h2><div class=CBody><p>Now Evolutionary Algorithms have been introduced CGP can be described.</p><p>Cartesian Genetic Programming (CGP) evolves chromosomes which represent functioning programs.&nbsp; That is, the solutions being evolved are computer programs which compute outputs based on inputs.&nbsp; These programs can be symbolic equations, Boolean logic circuits, neural networks or pretty much anything which consists of connected computational elements.&nbsp; For instance in the case of symbolic equations each equation is made up of separate functions (addition, subtraction, multiplication etc).&nbsp; CGP can be used to create programs which &ldquo;link&rdquo; together these separate functions to create a symbolic equation.&nbsp; This equation could then be used to do something useful.</p><p>CGP chromosomes describe acyclic (or sometimes cyclic) graphs of functioning nodes.&nbsp; Each chromosome is comprised of three types of genes: connection genes, function genes and output genes.&nbsp; Connection genes describe how each node is connected together.&nbsp; Each node in the graph can connect to any of the program inputs or to other nodes.&nbsp; Function genes describe the functionality performed by each node in the graph (in the symbolic equations case they may be addition, subtraction, multiplication etc).&nbsp; The set of possible functions which can be performed by each node is defined by the user.&nbsp; Output genes describe which nodes in the graph are used as the program outputs.&nbsp; Program outputs can be taken from any of the program inputs or the output of any node within the graph.</p><h4 class=CHeading>Example Chromosome</h4><p>An example CGP chromosome is given below.&nbsp; This chromosome describes an acyclic graph comprised of three inputs, three nodes and one output.&nbsp; The arity of each node is two.</p><img src="feedForward.png" width="482" height="144"><p>When the chromosome is executed, the inputs to the program are applied to the input nodes (0, 1 and 2 in this case).&nbsp; Then each of the function nodes calculate their output based on their inputs (nodes 3, 4 and 5 in this case).&nbsp; Finally the output of the program is taken (in this case the output of node 4).&nbsp; Typically a CGP chromosome will be ran multiple times with different inputs to assess its behaviour.&nbsp; If the program operates as desired it will score a good fitness, if not a bad fitness.</p><p>There are a few additional interesting things to note form the given chromosome</p><ul><li>Not all of the nodes contribute the output of the graph (in this case node 5 is not used).&nbsp; Nodes which do not contribute to the output are said to be inactive.&nbsp; Note: inactive nodes can later become active if an active node connects to them when mutated.&nbsp; These inactive genes are though to enable neutral genetic drift; an evolutionary phenomenon where some genes do not contribute to the operation of the phenotype (animal).&nbsp; Neutral genetic drift is though to be useful due to inactive genes still being subject to mutation and are passed on during reproduction.&nbsp; Therefore a population which appears evolutionary static can maintain genetic diversity making it more capable of adapting to a changing environment and more easily escaping evolutionary local optima.</li><li>Not all of the program inputs have to be used when calculating the outputs (in this case input 0 is not used).&nbsp; This is important as sometimes it is not known which variables will be important to solve a give task.&nbsp; Here CGP can evolve solutions which only used inputs found useful during evolution.</li><li>The outputs of nodes can be used multiple times by other nodes and by multiple program outputs (in this case the output of node 3 is used twice).&nbsp; This is an advantage over other genetic programming methods which typically require the same functionality to be evolved multiple times if an internally calculated value is required more than once.</li></ul><h4 class=CHeading>Typical Evolutionary process</h4><p>Now the typical evolutionary process used by CGP shall be described.&nbsp; However nearly every aspect can be altered if desired.</p><h4 class=CHeading>Evolutionary Strategy</h4><p>The evolutionary strategy commonly used by CGP is to select one parent from each generation and use it to produce four children via mutation alone.&nbsp; The next generation then comprises of the selected parent and the four generated children.&nbsp; The population size is therefore five; four children plus one parent.&nbsp; This strategy is formally written as (1 + 4)-ES.</p><h4 class=CHeading>Initial Population</h4><p>The initial population is usually populated with randomly generated chromosomes.&nbsp; The user defines the number of program inputs, internal nodes, the arity of each node and the number of program outputs.&nbsp; The chromosomes are randomly generated using these given constraints.</p><p>For instance each of the specified chromosome nodes will be given a random function gene from the available function set.&nbsp; Each of the inputs of each of the nodes will be given a random connection gene.&nbsp; Finally each output gene shall be set as a randomly chosen program input or node within the graph.</p><h4 class=CHeading>Calculating the Fitness</h4><p>Typically before the fitness of a CGP chromosome is calculated the active nodes are determined.&nbsp; This is because chromosomes are often ran multiple times by the fitness function and calculating the outputs of nodes which never contribute to the operation of the phenotype is a waste of computational time.&nbsp; Calculating the the active nodes is an O(n) operation which is only undertaken once for each chromosome.</p><p>The exact fitness of the chromosomes depend on how well the chromosome performs on a given task.</p><h4 class=CHeading>Selection Scheme</h4><p>CGP typically selects the fittest member(s) of the population to become the parent(s).</p><h4 class=CHeading>Reproduction Scheme</h4><p>CGP typically only uses mutation to create the children form the selected parents.&nbsp; Common mutation methods used are probabilistic mutation and point mutation.</p><p>Probabilistic mutation changes each gene to a new random valid allele with a given probability.&nbsp; This allows for the number of genes actually mutated to have a Gaussian distribution.&nbsp; Point mutation randomly selects a given number of genes in the parent and mutates these to create the child.&nbsp; The number of genes selected is the mutation rate time the number of genes.&nbsp; This fixes the number of genes mutated each time a child is created.</p><h4 class=CHeading>Summary</h4><p>That concludes a very brief introduction to CGP.&nbsp; For more details see the CGP homepage <a href="http://www.cartesiangp.co.uk/" class=LURL target=_top>http://www.cartesiangp.co.uk/</a> which includes a ten slide introduction <a href="http://www.cartesiangp.co.uk/cgp-in-nutshell.pdf" class=LURL target=_top>http://www.cartesiangp.co.uk/cgp-in-nutshell.pdf</a>.&nbsp; Additionally there is a CGP book called, you&rsquo;ve guessed it, &ldquo;Cartesian Genetic programming&rdquo; ISBN-10: 3642173098 ISBN-13: 978-3642173097.&nbsp; Finally there are multiple academic publications, just search &ldquo;Cartesian Genetic programming&rdquo; in google scholar.</p></div></div></div>

</div><!--Content-->


<div id=Footer>Copyright &copy; 2016 Andrew James Turner&nbsp; &middot;&nbsp; <a href="http://www.naturaldocs.org">Generated by Natural Docs</a></div><!--Footer-->


<div id=Menu><div class=MTitle>CGP-Library<div class=MSubTitle>Documentation</div></div><div class=MEntry><div class=MFile><a href="About-txt.html">About</a></div></div><div class=MEntry><div class=MFile id=MSelected>Cartesian Genetic Programming</div></div><div class=MEntry><div class=MFile><a href="Download-txt.html">Download</a></div></div><div class=MEntry><div class=MFile><a href="license-txt.html">Licenses</a></div></div><div class=MEntry><div class=MFile><a href="../files/cgp-h.html">API</a></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent1')">Tutorials</a><div class=MGroupContent id=MGroupContent1><div class=MEntry><div class=MFile><a href="Installation-txt.html">Installation</a></div></div><div class=MEntry><div class=MFile><a href="GettingStarted-txt.html">Getting Started</a></div></div><div class=MEntry><div class=MFile><a href="CreateDataSet-txt.html">Creating Data Sets</a></div></div><div class=MEntry><div class=MFile><a href="visualization-txt.html">Visualisation</a></div></div><div class=MEntry><div class=MFile><a href="recurrentConnections-txt.html">Recurrent Connections</a></div></div><div class=MEntry><div class=MFile><a href="AverageBehaviour-txt.html">Average Behaviour</a></div></div><div class=MEntry><div class=MFile><a href="CustomNodeFunctions-txt.html">Custom Node Functions</a></div></div><div class=MEntry><div class=MFile><a href="CustomFitnessFunction-txt.html">Custom Fitness Function</a></div></div><div class=MEntry><div class=MFile><a href="CustomSelectionScheme-txt.html">Custom Selection Scheme</a></div></div><div class=MEntry><div class=MFile><a href="customReproductionScheme-txt.html">Custom Reproduction Scheme</a></div></div><div class=MEntry><div class=MFile><a href="NeuroEvolution-txt.html">NeuroEvolution</a></div></div><div class=MEntry><div class=MFile><a href="ManipulatingChromosomes-txt.html">Manipulating Chromosomes</a></div></div><div class=MEntry><div class=MFile><a href="MultipleThreads-txt.html">Multiple Threads</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent2')">Index</a><div class=MGroupContent id=MGroupContent2><div class=MEntry><div class=MIndex><a href="../index/General.html">Everything</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Functions.html">Functions</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Variables.html">Variables</a></div></div></div></div></div><script type="text/javascript"><!--
var searchPanel = new SearchPanel("searchPanel", "HTML", "../search");
--></script><div id=MSearchPanel class=MSearchPanelInactive><input type=text id=MSearchField value=Search onFocus="searchPanel.OnSearchFieldFocus(true)" onBlur="searchPanel.OnSearchFieldFocus(false)" onKeyUp="searchPanel.OnSearchFieldChange()"><select id=MSearchType onFocus="searchPanel.OnSearchTypeFocus(true)" onBlur="searchPanel.OnSearchTypeFocus(false)" onChange="searchPanel.OnSearchTypeChange()"><option  id=MSearchEverything selected value="General">Everything</option><option value="Functions">Functions</option><option value="Variables">Variables</option></select></div></div><!--Menu-->



<!--START_ND_TOOLTIPS-->
<!--END_ND_TOOLTIPS-->




<div id=MSearchResultsWindow><iframe src="" frameborder=0 name=MSearchResults id=MSearchResults></iframe><a href="javascript:searchPanel.CloseResultsWindow()" id=MSearchResultsWindowClose>Close</a></div>


<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>