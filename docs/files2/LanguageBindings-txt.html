<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Language Bindings - CGP-Library</title><link rel="stylesheet" type="text/css" href="../styles/main.css"><script language=JavaScript src="../javascript/main.js"></script><script language=JavaScript src="../javascript/prettify.js"></script></head><body class="FramedContentPage" onLoad="NDOnLoad();prettyPrint();"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.51 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CSection"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="Language_Bindings"></a>Language Bindings</h1><div class=CBody><p>This tutorial explains how the CGP-Library can be used by languages other than C and C++.</p><p>The tutorial makes use of SWIG <a href="http://www.swig.org/" class=LURL target=_top>http://www.swig.org/</a> utility to create the wrappers for other languages.&nbsp; Using SWIG it is possible to access the CGP-Library from: Python, Java, C#, D, Go, Lisp, Octave, R, Javascript, Perl, PHP, Tcl, Ruby, Lua, Modula-3 and OCAML.</p><p>For simplicity of the tutorial here SWIG shall be used to make language bindings for Python2.7.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#Language_Bindings" >Language Bindings</a></td><td class=SDescription>This tutorial explains how the CGP-Library can be used by languages other than C and C++.</td></tr><tr class="SSection"><td class=SEntry><a href="#Software_Packages" >Software Packages</a></td><td class=SDescription>The tutorial requires a number of software packages to be installed: SWIG, Python2.7 and the Code::Blocks IDE.</td></tr><tr class="SSection"><td class=SEntry><a href="#Creating_Python_Bindings" >Creating Python Bindings</a></td><td class=SDescription>Here the SWIG utility shall be used to create the Python bindings for CGP-Library.</td></tr><tr class="SSection"><td class=SEntry><a href="#Using_the_Python_Bindings" >Using the Python Bindings</a></td><td class=SDescription>Using the newly created CGP-Library python bindings shall now be described.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Software_Packages"></a>Software Packages</h2><div class=CBody><p>The tutorial requires a number of software packages to be installed: SWIG, Python2.7 and the Code::Blocks IDE.</p><p>SWIG can be installed under Ubuntu by running &ldquo;sudo apt-get install swig&rdquo; in the terminal.&nbsp; Under windows go to <a href="http://www.swig.org/" class=LURL target=_top>http://www.swig.org/</a>, click &ldquo;Downloads&rdquo; followed by &ldquo;Download area&rdquo; and download the latest stable version for windows.&nbsp; Extract the zip folder to &ldquo;C:\&rdquo;.&nbsp; Now we need to add the SWIG.exe to system PATH.&nbsp; Right click on &ldquo;my computer&rdquo; and select &ldquo;properties&rdquo;.&nbsp; Press &ldquo;advanced system settings&rdquo;.&nbsp; Select the &ldquo;advanced tab&rdquo; and press &ldquo;environment variables&rdquo;.&nbsp; In the lower section select the PATH variables and press &ldquo;edit&rdquo;.&nbsp; Add &ldquo;c:\swigwin-3.0.2;&rdquo; to the end of the PATH variables.&nbsp; Note the use of &ldquo;;&rdquo; to delimit variables.&nbsp; Also note that &ldquo;3.0.2&rdquo; might need to be altered to the version downloaded. press &ldquo;OK&rdquo;.</p><p>Python2.7 should already be installed under Ubuntu but here the development version is needed for the Python header files.&nbsp; These are installed by running &ldquo;sudo apt-get install python-dev&rdquo; in the terminal.&nbsp; Under Windows go to <a href="https://www.python.org/" class=LURL target=_top>https://www.python.org/</a>, click downloads, click Python2.7.X and download the Windows x86 MSI Installer.&nbsp; Install to the default location of &ldquo;C:\&rdquo;.</p><p>Code::Blocks can be installed under Ubuntu by running &ldquo;sudo apt-get install codeblocks&rdquo; in the terminal.&nbsp; Under Windows go to <a href="http://www.codeblocks.org/" class=LURL target=_top>http://www.codeblocks.org/</a>, click downloads, click Download the binary release, click Windows 2000/XP/Vista/7//8 and download the latest version which comes bundled with the mingw compiler.&nbsp; Install to default location.</p><p>As a side note.&nbsp; I have not used windows for a few years now.&nbsp; I had forgotten how much easier some things can be under a Linux/GNU system :)</p></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Creating_Python_Bindings"></a>Creating Python Bindings</h2><div class=CBody><p>Here the SWIG utility shall be used to create the Python bindings for CGP-Library.</p><p>First navigate the terminal / command prompt to &ldquo;/CGP-Library/bindings&rdquo;.&nbsp; Then run &ldquo;swig -python cgp.i&rdquo;.&nbsp; This will create &ldquo;cgp.py&rdquo; and &ldquo;cgp_wrap.c&rdquo;.&nbsp; The &ldquo;cgp.py&rdquo; is the python module to be imported and &ldquo;cgp_wrap.c&rdquo; will be used to create the compiled CGP-Library for the python binding.</p><p>Second cgp.c and cgp_wrap.c must be compiled into a dynamic library along with the python headers.&nbsp; This process has been simplified using Code::Blocks.&nbsp; Open the CGP-Library.cbp project file and select the pythonBindings build target.&nbsp; Compile the pythonBindings build target.&nbsp; This will create _cgp.so / _cgp.dll which contains the CGP-Library to be used by the python bindings.&nbsp; This process can be done manually following the instructions at <a href="http://www.swig.org/" class=LURL target=_top>http://www.swig.org/</a>.</p></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Using_the_Python_Bindings"></a>Using the Python Bindings</h2><div class=CBody><p>Using the newly created CGP-Library python bindings shall now be described.</p><p>Whether running python scripts or using python in an iterative mode the CGP-Library can be imported using &ldquo;import cgp&rdquo;.&nbsp; This will search the sys.path locations for cgp.py. cgp.py will expect to find _cgp.so / _cgp.dll in the same directory as its self.&nbsp; For simplicity cgp.py and _cgp.so / _cgp.dll can be placed in the directory containing the input script or in the current directory.</p><p>Once &ldquo;import cgp&rdquo; has been called the CGP-Library can now be used within Python!</p><p>Below is the getting started tutorial re-written as a python script.</p><blockquote><pre class="prettyprint">import cgp

numInputs = 1;
numNodes = 15;
numOutputs = 1;
nodeArity = 2;

numGens = 10000;
targetFitness = 0.1;
updateFrequency = 500;

params = cgp.initialiseParameters(numInputs, numNodes, numOutputs, nodeArity);

cgp.addNodeFunction(params, &quot;add,sub,mul,div,sin&quot;);

cgp.setTargetFitness(params, targetFitness);

cgp.setUpdateFrequency(params, updateFrequency);

cgp.printParameters(params);

trainingData = cgp.initialiseDataSetFromFile(&quot;../dataSets/symbolic.data&quot;);

chromo = cgp.runCGP(params, trainingData, numGens);

cgp.printChromosome(chromo, 0);

cgp.freeDataSet(trainingData);
cgp.freeChromosome(chromo);
cgp.freeParameters(params);</pre></blockquote><p>And that&rsquo;s it, although slightly more involved than the previous tutorials, it is possible to use the CGP-Library form numerous languages.&nbsp; Details of how to compile for languages other than python can be found on the SWIG homepage <a href="http://www.swig.org/" class=LURL target=_top>http://www.swig.org/</a>.</p></div></div></div>

</div><!--Content-->



<!--START_ND_TOOLTIPS-->
<!--END_ND_TOOLTIPS-->

<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>